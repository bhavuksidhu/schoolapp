<%= form_for @student , url: admin_dashboard_index_path do |f| %>
  First Name<%= f.text_field :first_name %><br/>
  Last Name<%= f.text_field :last_name %><br>
  <%= f.hidden_field :password, value: "password" %>
  <%= f.fields_for :student_detail do |s_fields| %>
      Date of Birth:<%= s_fields.date_field :dob %><br/>
      Father Name:<%= s_fields.text_field :father_name %><br/>
      Date of Admission:<%= s_fields.date_field :admission_date %><br/>
      Standard:<%= s_fields.collection_select(:standard_id, Standard.all, :id, :title) %><br/>
  <% end %>
    <div id="student_attachments">
      <%= f.fields_for :student_attachments do |st_attachment| %>
        <%= render 'student_attachment_fields', f: st_attachment%>
        <div class="links">
            <%= link_to_add_association 'add attachment', f, :student_attachments  %>
        </div>
      <% end %>
    </div>
  <%= f.submit :submit %>   
<% end %>



<script type="text/javascript">
  $("#new_student").validate({
      rules: {
        "student[first_name]": {required: true},
        "student[last_name]": {required: true},
        "student[student_detail_attributes][dob]": {required: true},
        "student[student_detail_attributes][father_name]": {required: true},
        "student[student_attachments_attributes][0][attachment]": {required: true},
        "student[student_detail_attributes][admission_date]": {required: true},
        "student[student_detail_attributes][standard_id]": {required: true}
      },
      messages: {
        "student[first_name]": {required: "Please enter your firstname"},
        "student[last_name]": {required: "Please enter your last_name"},
        "student[student_detail_attributes][dob]": {required: "Please enter date of Birth"},
        "student[student_detail_attributes][father_name]": {required: "Please enter father name"},
        "student[student_attachments_attributes][0][attachment]": {required: "Please select image"},
        "student[student_detail_attributes][admission_date]": {required: "Please enter admission date"},
        "student[student_detail_attributes][standard_id]": {required: "Please choose class"}
      }
    });
</script>


